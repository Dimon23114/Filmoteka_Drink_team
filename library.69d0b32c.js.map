{"mappings":"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","sources":["src/library.js","src/js/getFromStorage.js"],"sourcesContent":["import { refs } from './js/refs';\nimport './js/AuthenticationService';\nimport { onTopBallon } from './js/component/btn-to-top';\nimport './js/teamModal';\nimport './js/getFromStorage';\nimport './js/set-to-watched';\nimport './js/ApiService';\nimport './js/day-night';\n","import axios from \"axios\"\nimport { toggleClassHidden, openBackDrop, cleanBackDrop, modalKeyDown, closeModal, addClassHidden } from \"./openModal\"\nimport { refs } from \"./refs\"\nimport { getToBtns } from \"./component/getToBtns\"\n\nconst libraryMainList = document.querySelector(\"[data-film-modal-open\")\nconst libraryWatchedList = document.querySelector(\".watched-render\")\nconst libraryQueuedList = document.querySelector(\".queued-render\")\nconst watchedBTN = document.querySelector(\".watched-btn\")\nconst queueBTN = document.querySelector(\".queue-btn\")\n\nlibraryWatchedList.addEventListener(\"click\", openBackDrop)\nlibraryWatchedList.addEventListener(\"click\", addClassHidden)\nlibraryWatchedList.addEventListener(\"click\", getToBtns)\n\nlibraryQueuedList.addEventListener(\"click\", openBackDrop)\nlibraryQueuedList.addEventListener(\"click\", addClassHidden)\nlibraryQueuedList.addEventListener(\"click\", getToBtns)\n\nwindow.addEventListener(\"load\", showWatchedList)\nqueueBTN.addEventListener(\"click\", openQueueList)\nwatchedBTN.addEventListener(\"click\", openWathedList)\n\n\nconst watchedList = JSON.parse(localStorage.getItem(\"watched_list\"))\nconst queuedList = JSON.parse(localStorage.getItem(\"queue_list\"))\n\nfunction createLibraryMarkup(film) {\n\n    const genresList = []\n    const genreList = film.genres.map(genre => {\n        genresList.push(genre.name)\n    })\n    const genres = genresList.join(', ')\n    \n    const date = film.release_date.slice(0, 4) || film.first_air_date.slice(0, 4)\n\n    const markup = `<li class=\"main-render__item\">\n        <a href=\"#\" class=\"main-render__link\" data-id=\"${film.id}\">\n            <img class=\"main-render__image\"\n            src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\"\n            loading=\"lazy\"\n            alt=\"${film.original_title || film.name}\" \n            data-id=\"${film.id}\">\n            <h2 class=\"main-render__title\" data-id=\"${film.id}\">\n            ${film.original_title || film.name}\n            </h2>\n            <p class=\"main-render__text\" data-id=\"${\n              film.id\n            }\">${genres} | ${date}</p>\n        </a>\n        </li>`;\n    return markup\n}\nfunction showWatchedList(evt) {\n    evt.preventDefault()\n\n    const watched = localStorage.getItem(\"watched_list\")\n    const watchedFilms = watched ? JSON.parse(watched) : []\n\n    if (watchedFilms.length === 0) {\n        libraryWatchedList.innerHTML = `<li class=\"api-error\">\n            <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n            </li>`\n    }\n    watchedFilms.map(film => {\n            libraryWatchedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n        })\n}\nfunction showQueuedList(evt) {\n    evt.preventDefault()\n\n    const queue = localStorage.getItem(\"queue_list\")\n    const queueFilms = queue ? JSON.parse(queue) : []\n\n    if (queueFilms.length === 0) {\n        libraryQueuedList.innerHTML = `<li class=\"api-error\">\n            <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n            </li>`\n    }\n    else {\n        queueFilms.map(film => {\n            libraryQueuedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n        })\n    }\n}\nfunction openWathedList(evt) {\n    evt.preventDefault()\n    libraryWatchedList.style.display = \"grid\"\n    queueBTN.classList.remove(\"btn--active\")\n    watchedBTN.classList.add(\"btn--active\")\n    cleanQueuedList()\n    showWatchedList(evt)\n}\nfunction openQueueList(evt) {\n    evt.preventDefault()\n    libraryQueuedList.style.display = \"grid\"\n    watchedBTN.classList.remove(\"btn--active\")\n    queueBTN.classList.add(\"btn--active\")\n    window.removeEventListener(\"load\", showWatchedList)\n    cleanWatchedList()\n    showQueuedList(evt)\n}\nfunction cleanWatchedList() {\n    libraryWatchedList.style.display = \"none\"\n    libraryWatchedList.innerHTML = \"\"\n}\nfunction cleanQueuedList() {\n    libraryQueuedList.style.display = \"none\"\n    libraryQueuedList.innerHTML = \"\"\n}\n\n\nrefs.modalCloseBtn.addEventListener(\"click\", restoreTheLibrary)\nwindow.addEventListener('keydown', libraryModalKeyDown);\nrefs.backdrop.addEventListener('click', libraryCloseModal);\n\nfunction restoreTheLibrary(evt) {\n    evt.preventDefault()\n\n    if (queueBTN.classList.contains(\"btn--active\")) {\n        const queue = localStorage.getItem(\"queue_list\")\n        const queueFilms = queue ? JSON.parse(queue) : []\n\n        if (queueFilms.length === 0) {\n            libraryQueuedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n                </li>`\n        }\n        else {\n            libraryQueuedList.innerHTML = \"\"\n            queueFilms.map(film => {\n                libraryQueuedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n            })\n        }\n    }\n    if (watchedBTN.classList.contains(\"btn--active\")) {\n        const watched = localStorage.getItem(\"watched_list\")\n        const watchedFilms = watched ? JSON.parse(watched) : []\n\n        if (watchedFilms.length === 0) {\n            libraryWatchedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n                </li>`\n        }\n        else {\n            libraryWatchedList.innerHTML = \"\"\n            watchedFilms.map(film => {\n            libraryWatchedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n        }) \n        }   \n    }\n}\nfunction libraryCloseModal(event) {\n  event.preventDefault();\n  if (event.target === refs.backdrop) {\n    if (queueBTN.classList.contains(\"btn--active\")) {\n        const queue = localStorage.getItem(\"queue_list\")\n        const queueFilms = queue ? JSON.parse(queue) : []\n\n        if (queueFilms.length === 0) {\n            libraryQueuedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n                </li>`\n        }\n        else {\n            libraryQueuedList.innerHTML = \"\"\n            queueFilms.map(film => {\n                libraryQueuedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n            })\n        }\n    }\n    if (watchedBTN.classList.contains(\"btn--active\")) {\n        const watched = localStorage.getItem(\"watched_list\")\n        const watchedFilms = watched ? JSON.parse(watched) : []\n\n        if (watchedFilms.length === 0) {\n            libraryWatchedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n                </li>`\n        }\n        else {\n            libraryWatchedList.innerHTML = \"\"\n            watchedFilms.map(film => {\n            libraryWatchedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n        }) \n        }   \n    }\n    }\n}\nfunction libraryModalKeyDown(event) {\n    console.log(event.code);\n        if (event.code === 'Escape') {\n            console.log(\"done\");\n            if (queueBTN.classList.contains(\"btn--active\")) {\n        const queue = localStorage.getItem(\"queue_list\")\n        const queueFilms = queue ? JSON.parse(queue) : []\n\n        if (queueFilms.length === 0) {\n            libraryQueuedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n                </li>`\n        }\n        else {\n            libraryQueuedList.innerHTML = \"\"\n            queueFilms.map(film => {\n                libraryQueuedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n            })\n        }\n            }\n            if (watchedBTN.classList.contains(\"btn--active\")) {\n                const watched = localStorage.getItem(\"watched_list\")\n                const watchedFilms = watched ? JSON.parse(watched) : []\n\n                if (watchedFilms.length === 0) {\n                    libraryWatchedList.innerHTML = `<li class=\"api-error\">\n                        <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n                        </li>`\n                }\n                else {\n                    libraryWatchedList.innerHTML = \"\"\n                    watchedFilms.map(film => {\n                    libraryWatchedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n                }) \n                }   \n            }\n        }\n    }"],"names":["parcelRequire","$98165248b01bd31e$var$libraryWatchedList","document","querySelector","$98165248b01bd31e$var$libraryQueuedList","$98165248b01bd31e$var$watchedBTN","$98165248b01bd31e$var$queueBTN","addEventListener","$bktnR","openBackDrop","addClassHidden","$hQyPS","getToBtns","window","$98165248b01bd31e$var$showWatchedList","evt","preventDefault","style","display","classList","remove","add","removeEventListener","innerHTML","queue","localStorage","getItem","queueFilms","JSON","parse","length","map","film","insertAdjacentHTML","$98165248b01bd31e$var$createLibraryMarkup","$98165248b01bd31e$var$showQueuedList","genresList","genres","genre","push","name","join","date","release_date","slice","first_air_date","concat","id","poster_path","original_title","watched","watchedFilms","$4Nugj","refs","modalCloseBtn","contains","event","console","log","code","backdrop","target"],"version":3,"file":"library.69d0b32c.js.map"}