{"mappings":"oeAAAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,SACA,MAAME,EAAkBC,SAASC,cAAc,0BACzCC,EAAaF,SAASC,cAAc,gBACpCE,EAAWH,SAASC,cAAc,cAQxC,SAASG,IAoBL,OAnBeC,KAAKC,KAAI,EAACC,GAAEA,EAAEC,YAAEA,EAAWC,eAAEA,EAAcC,KAAEA,EAAIC,OAAEA,EAAMC,aAAEA,EAAYC,eAAGA,KACxE,0FACoCN,mJAGPC,wBAC/BC,GAAkBC,6BACdH,oIAG+BA,oBACxCE,GAAkBC,2EAEoBH,MAAOI,OAAYC,GAAgBC,2DAKhFC,KAAK,G,CAGZ,SAASC,EAAgBC,GACrBA,EAAIC,iBAEJ,MAAMC,EAAUC,aAAaC,QAAQ,WAGT,KAFPF,EAAUG,KAAKC,MAAMJ,GAAW,IAEpCK,OACbxB,EAAgByB,UAAY,6HAK5BzB,EAAgB0B,mBAAmB,YAAarB,E,CAiCxD,SAASsB,IACL3B,EAAgByB,UAAY,E,CA3EhCzB,EAAgB4B,iBAAiB,QAAS7B,EAAA8B,cAC1C7B,EAAgB4B,iBAAiB,QAAS7B,EAAA+B,mBAC1CC,OAAOH,iBAAiB,OAAQZ,GAChCZ,EAASwB,iBAAiB,SA+D1B,SAAwBX,GACpBA,EAAIC,iBACJf,EAAW6B,UAAUC,OAAO,eAC5B7B,EAAS4B,UAAUE,IAAI,eACvBH,OAAOI,oBAAoB,OAAQnB,GACnCW,IA3BJ,SAAwBV,GACpBA,EAAIC,iBAEJ,MAAMkB,EAAQhB,aAAaC,QAAQ,SAGT,KAFPe,EAAQd,KAAKC,MAAMa,GAAS,IAEhCZ,OACXxB,EAAgByB,UAAY,4HAK5BzB,EAAgB0B,mBAAmB,YAAarB,E,CAgBpDgC,CAAepB,E,IApEnBd,EAAWyB,iBAAiB,SAuD5B,SAAwBX,GACpBA,EAAIC,iBACJd,EAAS4B,UAAUC,OAAO,eAC1B9B,EAAW6B,UAAUE,IAAI,eACzBP,IACAX,EAAgBC,E","sources":["src/library.js","src/js/getFromStorage.js"],"sourcesContent":["import { refs } from './js/refs';\nimport { onTopBallon } from './js/component/btn-to-top';\nimport './js/day-night';\nimport \"./js/getFromStorage\"\n\n","import {toggleClassHidden, openBackDrop, cleanBackDrop, modalKeyDown, closeModal} from \"./openModal\"\nconst libraryMainList = document.querySelector(\"[data-film-modal-open]\")\nconst watchedBTN = document.querySelector(\".watched-btn\")\nconst queueBTN = document.querySelector(\".queue-btn\")\nlibraryMainList.addEventListener(\"click\", openBackDrop)\nlibraryMainList.addEventListener(\"click\", toggleClassHidden)\nwindow.addEventListener(\"load\", showWatchedList)\nqueueBTN.addEventListener(\"click\", openOqueueList)\nwatchedBTN.addEventListener(\"click\", openWathedList)\n\n\nfunction createLibraryMarkup() {\n    const markup = data.map(({ id, poster_path, original_title, name, genres, release_date,  first_air_date}) => {\n        const item = `<li class=\"main-render__item\">\n        <a href=\"#\" class=\"main-render__link\" data-id=\"${id}\">\n        <div class=\"main-render__image-box\">\n            <img class=\"main-render__image\"\n            src=\"https://image.tmdb.org/t/p/w500${poster_path}\"\n            alt=\"${original_title || name}\" \n            data-id=\"${id}\">\n            </div>\n            <div class=\"main-render__discription\">\n            <h2 class=\"main-render__title\" data-id=\"${id}\">\n            ${original_title || name}\n            </h2>\n            <p class=\"main-render__text\" data-id=\"${id}\">${genres} | ${release_date || first_air_date}</p>\n            </div>\n        </a>\n        </li>`\n        return item\n    }).join(\"\")\n    return markup\n}\nfunction showWatchedList(evt) {\n    evt.preventDefault()\n\n    const watched = localStorage.getItem(\"watched\")\n    const watchedFilms = watched ? JSON.parse(watched) : []\n\n    if (watchedFilms.length === 0) {\n        libraryMainList.innerHTML = `<li class=\"api-error\">\n            <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n            </li>`\n    }\n    else {\n        libraryMainList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup)\n    }\n}\nfunction showQueuedList(evt) {\n    evt.preventDefault()\n\n    const queue = localStorage.getItem(\"queue\")\n    const queueFilms = queue ? JSON.parse(queue) : []\n\n    if (queueFilms.length === 0) {\n        libraryMainList.innerHTML = `<li class=\"api-error\">\n            <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n            </li>`\n    }\n    else {\n        libraryMainList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup)\n    }\n}\nfunction openWathedList(evt) {\n    evt.preventDefault()\n    queueBTN.classList.remove(\"btn--active\")\n    watchedBTN.classList.add(\"btn--active\")\n    cleanLibrary()\n    showWatchedList(evt)\n}\nfunction openOqueueList(evt) {\n    evt.preventDefault()\n    watchedBTN.classList.remove(\"btn--active\")\n    queueBTN.classList.add(\"btn--active\")\n    window.removeEventListener(\"load\", showWatchedList)\n    cleanLibrary()\n    showQueuedList(evt)\n}\nfunction cleanLibrary() {\n    libraryMainList.innerHTML = \"\"\n}"],"names":["parcelRequire","$6K2nx","$b936b88fd014d8ec$var$libraryMainList","document","querySelector","$b936b88fd014d8ec$var$watchedBTN","$b936b88fd014d8ec$var$queueBTN","$b936b88fd014d8ec$var$createLibraryMarkup","data","map","id","poster_path","original_title","name","genres","release_date","first_air_date","join","$b936b88fd014d8ec$var$showWatchedList","evt","preventDefault","watched","localStorage","getItem","JSON","parse","length","innerHTML","insertAdjacentHTML","$b936b88fd014d8ec$var$cleanLibrary","addEventListener","openBackDrop","toggleClassHidden","window","classList","remove","add","removeEventListener","queue","$b936b88fd014d8ec$var$showQueuedList"],"version":3,"file":"library.8e453ee9.js.map"}