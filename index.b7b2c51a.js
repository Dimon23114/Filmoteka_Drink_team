!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a.register("hKHmD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}})),a("4Nugj");var i=a("bpxeT"),s=a("2TvXO"),o=a("62hKk"),c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u.default(e,t,n[t])}))}return e};var l,u=(l=a("hKHmD"))&&l.__esModule?l:{default:l};var d={totalPages:1,totalItems:20,itemsPerPage:20,visiblePages:5,centerAlign:!0,template:{page:'<a href="#" class="tui-page-btn-custom">{{page}}</a>',currentPage:'<strong class="tui-page-btn-custom tui-is-selected-custom">{{page}}</strong>',moveButton:'<a id="{{type}}" href="#" class="tui-page-btn-custom tui-{{type}}"><span class="tui-ico-{{type}}"></span></a>',disabledMoveButton:'<span id="{{type}}" class="tui-page-btn-custom tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn-custom tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}},p=document.querySelector("#tui-pagination-container"),m=function(e,t){var n=d.totalPages,r=d.visiblePages,a=Math.ceil(r/2);if(n<=1)p.classList.add("visually-hidden");else{var i,s;if(document.querySelector(".tui-page-btn-custom.tui-last").innerHTML="".concat(n),document.querySelector(".tui-page-btn-custom.tui-first").innerHTML="".concat(e),t<e+a||n<=r)document.querySelector(".tui-page-btn-custom.tui-first").classList.add("visually-hidden"),document.querySelector(".tui-page-btn-custom.tui-prev").classList.add("visually-hidden");else null===(i=document.querySelector("#prev"))||void 0===i||i.after(document.querySelector("#first")),document.querySelector(".tui-page-btn-custom.tui-first").classList.remove("visually-hidden"),document.querySelector(".tui-page-btn-custom.tui-prev").classList.remove("visually-hidden");if(t>n-a||n<=r)document.querySelector(".tui-page-btn-custom.tui-last").classList.add("visually-hidden"),document.querySelector(".tui-page-btn-custom.tui-next").classList.add("visually-hidden");else null===(s=document.querySelector("#last"))||void 0===s||s.after(document.querySelector("#next")),document.querySelector(".tui-page-btn-custom.tui-last").classList.remove("visually-hidden"),document.querySelector(".tui-page-btn-custom.tui-next").classList.remove("visually-hidden");p.classList.remove("visually-hidden")}},f=[],g=document.querySelector(".main-render");function v(){return v=e(i)(e(s).mark((function t(n){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fetchTrendMovies)(n).then((function(e){var t=e.data.results;m(1,n),f=[],t.forEach((function(e){var t={id:e.id,poster:e.poster_path,title:e.original_title,genres:e.genre_ids,year:e.release_date?e.release_date.slice(0,4):"Year N/A"};f.push(t)}))})).catch((function(e){return console.log(e)}));case 2:return e.next=4,(0,o.fetchGenresOfMovie)().then((function(e){var t=e.data.genres;f.forEach((function(e){switch(e.genres=e.genres.map((function(e){return t.forEach((function(t){t.id===e&&(e=t.name)})),e})),!0){case e.genres.length>0&&e.genres.length<=2:e.genres=e.genres.join(", ");break;case e.genres.length>2:e.genres[2]="Other",e.genres=e.genres.slice(0,3).join(", ");break;default:e.genres="Genre N/A"}}))})).catch((function(e){console.log("Failed to get genres : ",e),f.map((function(e){return e.genres="Genres N/A"}))}));case 4:g.innerHTML=f.map((function(e){var t=e.id,n=e.poster,r=e.title,a=e.genres,i=e.year;return'\n<li class="main-render__item">\n        <a href="#" class="main-render__link" data-id="'.concat(t,'">\n        <div class="main-render__image-box">\n          <img class="main-render__image"\n          src="').concat(n?"https://image.tmdb.org/t/p/w500".concat(n):imgPlaceholder,'"\n          alt="').concat(r,'" \n          data-id="').concat(t,'">\n          </div>\n          <div class="main-render__discription">\n          <h2 class="main-render__title" data-id="').concat(t,'">\n            ').concat(r,'\n          </h2>\n          <p class="main-render__text" data-id="').concat(t,'">').concat(a," | ").concat(i,"</p>\n          </div>\n        </a>\n      </li>\n")})).join(""),setTimeout((function(){if(0===f.length){g.innerHTML='<li class="api-error">\n            <p class="api-error__desc">The list of popular movies is temporarily unavailable.<br>Please, retry later!\n            </p>\n            </li>'}}),500);case 6:case"end":return e.stop()}}),t)}))),v.apply(this,arguments)}!function(e){v.apply(this,arguments)}(1),document.querySelector(".preloader"),window.addEventListener("load",(function(){preloader.classList.add("preloader--hide"),setTimeout((function(){preloader.remove()}),1e3)})),a("8YbB4"),a("bktnR"),a("2TPGI");var y=document.querySelector("[data-open-modal]"),h=document.querySelector("[data-modal-close]"),b=document.querySelector("[data-backdrop]");function _(){window.removeEventListener("keydown",L),b.classList.add("is-hidden"),document.body.classList.remove("no-scroll")}function L(e){console.log(e.code),"Escape"===e.code&&_()}y.addEventListener("click",(function(){window.addEventListener("keydown",L),b.classList.remove("is-hidden"),document.body.classList.add("no-scroll")})),h.addEventListener("click",_),b.addEventListener("click",(function(e){e.currentTarget===e.target&&_()})),a("f3SM7"),a("jxTkE"),a("62hKk")}();
//# sourceMappingURL=index.b7b2c51a.js.map
