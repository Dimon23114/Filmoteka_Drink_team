!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a.register("hKHmD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}})),a("4Nugj");var i=a("bpxeT"),s=a("2TvXO"),c=a("62hKk"),o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l.default(e,t,n[t])}))}return e};var u,l=(u=a("hKHmD"))&&u.__esModule?u:{default:u};var d={totalPages:1,totalItems:20,itemsPerPage:20,visiblePages:5,centerAlign:!0,template:{page:'<a href="#" class="tui-page-btn-custom">{{page}}</a>',currentPage:'<strong class="tui-page-btn-custom tui-is-selected-custom">{{page}}</strong>',moveButton:'<a id="{{type}}" href="#" class="tui-page-btn-custom tui-{{type}}"><span class="tui-ico-{{type}}"></span></a>',disabledMoveButton:'<span id="{{type}}" class="tui-page-btn-custom tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn-custom tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}},p=document.querySelector("#tui-pagination-container"),f=function(e,t){var n=d.totalPages,r=d.visiblePages,a=Math.ceil(r/2);if(n<=1)p.classList.add("visually-hidden");else{var i,s;if(document.querySelector(".tui-page-btn-custom.tui-last").innerHTML="".concat(n),document.querySelector(".tui-page-btn-custom.tui-first").innerHTML="".concat(e),t<e+a||n<=r)document.querySelector(".tui-page-btn-custom.tui-first").classList.add("visually-hidden"),document.querySelector(".tui-page-btn-custom.tui-prev").classList.add("visually-hidden");else null===(i=document.querySelector("#prev"))||void 0===i||i.after(document.querySelector("#first")),document.querySelector(".tui-page-btn-custom.tui-first").classList.remove("visually-hidden"),document.querySelector(".tui-page-btn-custom.tui-prev").classList.remove("visually-hidden");if(t>n-a||n<=r)document.querySelector(".tui-page-btn-custom.tui-last").classList.add("visually-hidden"),document.querySelector(".tui-page-btn-custom.tui-next").classList.add("visually-hidden");else null===(s=document.querySelector("#last"))||void 0===s||s.after(document.querySelector("#next")),document.querySelector(".tui-page-btn-custom.tui-last").classList.remove("visually-hidden"),document.querySelector(".tui-page-btn-custom.tui-next").classList.remove("visually-hidden");p.classList.remove("visually-hidden")}},m=[],g=document.querySelector(".main-render");function h(){return h=e(i)(e(s).mark((function t(n){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fetchTrendMovies)(n).then((function(e){var t=e.data.results;f(1,n),m=[],t.forEach((function(e){var t={id:e.id,poster:e.poster_path,title:e.original_title,genres:e.genre_ids,year:e.release_date?e.release_date.slice(0,4):"Year N/A"};m.push(t)}))})).catch((function(e){return console.log(e)}));case 2:return e.next=4,(0,c.fetchGenresOfMovie)().then((function(e){var t=e.data.genres;m.forEach((function(e){switch(e.genres=e.genres.map((function(e){return t.forEach((function(t){t.id===e&&(e=t.name)})),e})),!0){case e.genres.length>0&&e.genres.length<=2:e.genres=e.genres.join(", ");break;case e.genres.length>2:e.genres[2]="Other",e.genres=e.genres.slice(0,3).join(", ");break;default:e.genres="Genre N/A"}}))})).catch((function(e){console.log("Failed to get genres : ",e),m.map((function(e){return e.genres="Genres N/A"}))}));case 4:g.innerHTML=m.map((function(e){var t=e.id,n=e.poster,r=e.title,a=e.genres,i=e.year;return'\n<li class="main-render__item">\n        <a href="#" class="main-render__link" data-id="'.concat(t,'">\n        <div class="main-render__image-box">\n          <img class="main-render__image"\n          src="').concat(n?"https://image.tmdb.org/t/p/w500".concat(n):imgPlaceholder,'"\n          alt="').concat(r,'" \n          data-id="').concat(t,'">\n          </div>\n          <div class="main-render__discription">\n          <h2 class="main-render__title" data-id="').concat(t,'">\n            ').concat(r,'\n          </h2>\n          <p class="main-render__text" data-id="').concat(t,'">').concat(a," | ").concat(i,"</p>\n          </div>\n        </a>\n      </li>\n")})).join(""),setTimeout((function(){if(0===m.length){g.innerHTML='<li class="api-error">\n            <p class="api-error__desc">The list of popular movies is temporarily unavailable.<br>Please, retry later!\n            </p>\n            </li>'}}),500);case 6:case"end":return e.stop()}}),t)}))),h.apply(this,arguments)}!function(e){h.apply(this,arguments)}(1);i=a("bpxeT"),s=a("2TvXO"),c=a("62hKk");var v=a("4Nugj");function y(e){var t=e.reduce((function(e,t){return e+'\n    <li class="main-render__item">\n        <a href="#" class="main-render__link" data-id="'.concat(t.id,'">\n        <div class="main-render__image-box">\n          <img class="main-render__image"\n          src="').concat(t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):t.imgPlaceholder,'"\n          alt="').concat(t.original_title,'" \n          data-id="').concat(t.id,'">\n          </div>\n          <div class="main-render__discription">\n          <h2 class="main-render__title" data-id="').concat(t.id,'">\n            ').concat(t.original_title,'\n          </h2>\n          <p class="main-render__text" data-id="').concat(t.id,'">').concat(t.genres," | ").concat(t.year,"</p>\n          </div>\n        </a>\n      </li>")}),"");return t}function b(e,t){switch(e.genres=e.genre_ids.map((function(e){return t.forEach((function(t){t.id===e&&(e=t.name)})),e})),!0){case e.genres.length>0&&e.genres.length<=2:e.genres=e.genres.join(", ");break;case e.genres.length>2:e.genres[2]="Other",e.genres=e.genres.slice(0,3).join(", ");break;default:e.genres="Genre N/A"}}function _(e){e.year=e.release_date?e.release_date.slice(0,4):"Year N/A"}function x(){return(x=e(i)(e(s).mark((function t(n){var r,a,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=n.target.elements.searchQuery.value.trim(),1,""!==r){e.next=5;break}return e.abrupt("return");case 5:return v.refs.mainRenderList.innerHTML="",e.next=8,(0,c.fetchSearchAnyMovie)(r);case 8:if(null!==(a=e.sent)){e.next=12;break}return v.refs.searchTextBox.innerHTML="Search result not successful. Enter the correct movie name and ",e.abrupt("return");case 12:if(0!==a.total_pages){e.next=15;break}return v.refs.searchTextBox.innerHTML="Search result not successful. Enter the correct movie name and ",e.abrupt("return");case 15:return v.refs.searchTextBox.innerHTML="",e.next=18,(0,c.fetchGenresOfMovie)();case 18:i=e.sent,a.results.forEach((function(e){b(e,i.data.genres),_(e)})),v.refs.mainRenderList.innerHTML=y(a.results);case 21:case"end":return e.stop()}}),t)})))).apply(this,arguments)}v.refs.searchForm.addEventListener("submit",(function(e){return x.apply(this,arguments)})),document.querySelector(".preloader"),window.addEventListener("load",(function(){preloader.classList.add("preloader--hide"),setTimeout((function(){preloader.remove()}),1e3)})),a("8YbB4"),a("bktnR"),a("2TPGI"),a("dsadE"),a("f3SM7"),a("jxTkE"),a("62hKk")}();
//# sourceMappingURL=index.e4d4d5b1.js.map
