{"mappings":"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","sources":["src/library.js","src/js/getFromStorage.js","src/js/day-night-library.js"],"sourcesContent":["import { refs } from './js/refs';\nimport './js/AuthenticationService';\nimport { onTopBallon } from './js/component/btn-to-top';\nimport './js/teamModal';\nimport './js/getFromStorage';\nimport './js/set-to-watched';\nimport './js/ApiService';\nimport './js/day-night-library';\n","import axios from \"axios\"\nimport { toggleClassHidden, openBackDrop, cleanBackDrop, modalKeyDown, closeModal, addClassHidden } from \"./openModal\"\nimport { refs } from \"./refs\"\nimport { getToBtns } from \"./component/getToBtns\"\n\nconst libraryMainList = document.querySelector(\"[data-film-modal-open\")\nconst libraryWatchedList = document.querySelector(\".watched-render\")\nconst libraryQueuedList = document.querySelector(\".queued-render\")\nconst watchedBTN = document.querySelector(\".watched-btn\")\nconst queueBTN = document.querySelector(\".queue-btn\")\n\nlibraryWatchedList.addEventListener(\"click\", openBackDrop)\nlibraryWatchedList.addEventListener(\"click\", addClassHidden)\nlibraryWatchedList.addEventListener(\"click\", getToBtns)\n\nlibraryQueuedList.addEventListener(\"click\", openBackDrop)\nlibraryQueuedList.addEventListener(\"click\", addClassHidden)\nlibraryQueuedList.addEventListener(\"click\", getToBtns)\n\nwindow.addEventListener(\"load\", showWatchedList)\nqueueBTN.addEventListener(\"click\", openQueueList)\nwatchedBTN.addEventListener(\"click\", openWathedList)\n\nlibraryQueuedList.style.color = \"red\"\n\nconst watchedList = JSON.parse(localStorage.getItem(\"watched_list\"))\nconst queuedList = JSON.parse(localStorage.getItem(\"queue_list\"))\n\nfunction createLibraryMarkup(film) {\n\n    const genresList = []\n    const genreList = film.genres.map(genre => {\n        genresList.push(genre.name)\n    })\n    const genres = genresList.join(', ')\n    \n    const date = film.release_date.slice(0, 4) || film.first_air_date.slice(0, 4)\n\n    const markup = `<li class=\"main-render__item\">\n        <a href=\"#\" class=\"main-render__link\" data-id=\"${film.id}\">\n            <img class=\"main-render__image\"\n            src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\"\n            loading=\"lazy\"\n            alt=\"${film.original_title || film.name}\" \n            data-id=\"${film.id}\">\n            <h2 class=\"main-render__title\" data-id=\"${film.id}\">\n            ${film.original_title || film.name}\n            </h2>\n            <p class=\"main-render__text\" data-id=\"${\n              film.id\n            }\">${genres} | ${date}</p>\n        </a>\n        </li>`;\n    return markup\n}\nfunction showWatchedList(evt) {\n    evt.preventDefault()\n\n    const watched = localStorage.getItem(\"watched_list\")\n    const watchedFilms = watched ? JSON.parse(watched) : []\n\n    if (watchedFilms.length === 0) {\n        libraryWatchedList.innerHTML = `<li class=\"api-error\">\n            <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n            </li>`\n    }\n    watchedFilms.map(film => {\n            libraryWatchedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n        })\n}\nfunction showQueuedList(evt) {\n    evt.preventDefault()\n\n    const queue = localStorage.getItem(\"queue_list\")\n    const queueFilms = queue ? JSON.parse(queue) : []\n\n    if (queueFilms.length === 0) {\n        libraryQueuedList.innerHTML = `<li class=\"api-error\">\n            <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n            </li>`\n    }\n    else {\n        queueFilms.map(film => {\n            libraryQueuedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n        })\n    }\n}\nfunction openWathedList(evt) {\n    evt.preventDefault()\n    libraryWatchedList.style.display = \"grid\"\n    queueBTN.classList.remove(\"btn--active\")\n    watchedBTN.classList.add(\"btn--active\")\n    cleanQueuedList()\n    showWatchedList(evt)\n}\nfunction openQueueList(evt) {\n    evt.preventDefault()\n    libraryQueuedList.style.display = \"grid\"\n    watchedBTN.classList.remove(\"btn--active\")\n    queueBTN.classList.add(\"btn--active\")\n    window.removeEventListener(\"load\", showWatchedList)\n    cleanWatchedList()\n    showQueuedList(evt)\n}\nfunction cleanWatchedList() {\n    libraryWatchedList.style.display = \"none\"\n    libraryWatchedList.innerHTML = \"\"\n}\nfunction cleanQueuedList() {\n    \n    libraryQueuedList.style.display = \"none\"\n    libraryQueuedList.innerHTML = \"\"\n}\n\n\nrefs.modalCloseBtn.addEventListener(\"click\", restoreTheLibrary)\nwindow.addEventListener('keydown', libraryModalKeyDown);\nrefs.backdrop.addEventListener('click', libraryCloseModal);\n\nfunction restoreTheLibrary(evt) {\n    evt.preventDefault()\n\n    if (queueBTN.classList.contains(\"btn--active\")) {\n        const queue = localStorage.getItem(\"queue_list\")\n        const queueFilms = queue ? JSON.parse(queue) : []\n\n        if (queueFilms.length === 0) {\n            libraryQueuedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n                </li>`\n        }\n        else {\n            libraryQueuedList.innerHTML = \"\"\n            queueFilms.map(film => {\n                libraryQueuedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n            })\n        }\n    }\n    if (watchedBTN.classList.contains(\"btn--active\")) {\n        const watched = localStorage.getItem(\"watched_list\")\n        const watchedFilms = watched ? JSON.parse(watched) : []\n\n        if (watchedFilms.length === 0) {\n            libraryWatchedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n                </li>`\n        }\n        else {\n            libraryWatchedList.innerHTML = \"\"\n            watchedFilms.map(film => {\n            libraryWatchedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n        }) \n        }   \n    }\n}\nfunction libraryCloseModal(event) {\n  event.preventDefault();\n  if (event.target === refs.backdrop) {\n    if (queueBTN.classList.contains(\"btn--active\")) {\n        const queue = localStorage.getItem(\"queue_list\")\n        const queueFilms = queue ? JSON.parse(queue) : []\n\n        if (queueFilms.length === 0) {\n            libraryQueuedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n                </li>`\n        }\n        else {\n            libraryQueuedList.innerHTML = \"\"\n            queueFilms.map(film => {\n                libraryQueuedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n            })\n        }\n    }\n    if (watchedBTN.classList.contains(\"btn--active\")) {\n        const watched = localStorage.getItem(\"watched_list\")\n        const watchedFilms = watched ? JSON.parse(watched) : []\n\n        if (watchedFilms.length === 0) {\n            libraryWatchedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n                </li>`\n        }\n        else {\n            libraryWatchedList.innerHTML = \"\"\n            watchedFilms.map(film => {\n            libraryWatchedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n        }) \n        }   \n    }\n    }\n}\nfunction libraryModalKeyDown(event) {\n    console.log(event.code);\n        if (event.code === 'Escape') {\n            console.log(\"done\");\n            if (queueBTN.classList.contains(\"btn--active\")) {\n        const queue = localStorage.getItem(\"queue_list\")\n        const queueFilms = queue ? JSON.parse(queue) : []\n\n        if (queueFilms.length === 0) {\n            libraryQueuedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n                </li>`\n        }\n        else {\n            libraryQueuedList.innerHTML = \"\"\n            queueFilms.map(film => {\n                libraryQueuedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n            })\n        }\n            }\n            if (watchedBTN.classList.contains(\"btn--active\")) {\n                const watched = localStorage.getItem(\"watched_list\")\n                const watchedFilms = watched ? JSON.parse(watched) : []\n\n                if (watchedFilms.length === 0) {\n                    libraryWatchedList.innerHTML = `<li class=\"api-error\">\n                        <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n                        </li>`\n                }\n                else {\n                    libraryWatchedList.innerHTML = \"\"\n                    watchedFilms.map(film => {\n                    libraryWatchedList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup(film))\n                }) \n                }   \n            }\n        }\n}","document.querySelector('.themetoggle').addEventListener('click', event => {\n  event.preventDefault();\n  if (localStorage.getItem('theme') === 'dark') {\n    localStorage.removeItem('theme');\n  } else {\n    localStorage.setItem('theme', 'dark');\n  }\n  addDarkClassToHTML();\n});\n\nfunction addDarkClassToHTML() {\n  try {\n    if (localStorage.getItem('theme') === 'dark') {\n      document.querySelector('.main-render').classList.add('dark');\n      document.querySelector('.queued-render').classList.add('dark');\n\n      document.querySelector('body').classList.add('dark');\n      document.querySelector('.themetoggle').classList.add('dark');\n      document.querySelector('.material-icons').classList.add('dark');\n      document.querySelector('header').classList.add('dark');\n      document.querySelector('.modal').classList.add('dark');\n\n      document.querySelector('.modal-dark').classList.add('dark');\n      document.querySelector('.pagination').classList.add('dark');\n      document.querySelector('.day-nigth-btn-box').classList.add('dark');\n    } else {\n      document.querySelector('.main-render').classList.remove('dark');\n      document.querySelector('.queued-render').classList.remove('dark');\n\n      document.querySelector('body').classList.remove('dark');\n      document.querySelector('.themetoggle').classList.remove('dark');\n      document.querySelector('.material-icons').classList.remove('dark');\n      document.querySelector('header').classList.remove('dark');\n      document.querySelector('.modal-dark').classList.remove('dark');\n      document.querySelector('.modal').classList.remove('dark');\n      document.querySelector('.pagination').classList.remove('dark');\n      document.querySelector('.day-nigth-btn-box').classList.remove('dark');\n    }\n  } catch (err) {}\n}\n\naddDarkClassToHTML();\n"],"names":["parcelRequire","document","querySelector","$b936b88fd014d8ec$var$libraryWatchedList","$b936b88fd014d8ec$var$libraryQueuedList","$b936b88fd014d8ec$var$watchedBTN","$b936b88fd014d8ec$var$queueBTN","addEventListener","$6K2nx","openBackDrop","addClassHidden","$iQg7w","getToBtns","window","$b936b88fd014d8ec$var$showWatchedList","evt","preventDefault","style","display","classList","remove","add","removeEventListener","innerHTML","queue","localStorage","getItem","queueFilms","JSON","parse","length","map","film","insertAdjacentHTML","$b936b88fd014d8ec$var$createLibraryMarkup","$b936b88fd014d8ec$var$showQueuedList","color","genresList","genres","genre","push","name","join","date","release_date","slice","first_air_date","id","poster_path","original_title","watched","watchedFilms","$d23f312da1ea6a39$var$addDarkClassToHTML","err","$krGWQ","refs","modalCloseBtn","contains","event","console","log","code","backdrop","target","removeItem","setItem"],"version":3,"file":"library.b752f783.js.map"}