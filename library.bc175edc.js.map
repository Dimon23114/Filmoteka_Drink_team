{"mappings":"gfAAAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,SACME,EAAkBC,SAASC,cAAc,0BACzCC,EAAaF,SAASC,cAAc,gBACpCE,EAAWH,SAASC,cAAc,cAQxC,SAASG,IAoBL,OAnBeC,KAAKC,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAWF,EAAXE,YAAaC,EAAcH,EAAdG,eAAgBC,EAAIJ,EAAJI,KAAMC,EAAML,EAANK,OAAQC,EAAYN,EAAZM,aAAeC,EAAcP,EAAdO,eAiBrF,MAhBa,0FAI6BC,OAHOP,EAAG,mJAIzCO,OAD+BN,EAAY,wBAEvCM,OADJL,GAAkBC,EAAK,6BAIYI,OAH/BP,EAAG,oIAIZO,OADwCP,EAAG,oBAGLO,OAFtCL,GAAkBC,EAAK,2EAEsBI,OAAPP,EAAG,MAAgBO,OAAZH,EAAO,OAAoCG,OAA/BF,GAAgBC,EAAe,wD,IAK/FE,KAAK,G,CAGZ,SAASC,EAAgBC,GACrBA,EAAIC,iBAEJ,IAAMC,EAAUC,aAAaC,QAAQ,WAGT,KAFPF,EAAUG,KAAKC,MAAMJ,GAAW,IAEpCK,OACb1B,EAAgB2B,UAAa,6HAK7B3B,EAAgB4B,mBAAmB,YAAavB,E,CAiCxD,SAASwB,IACL7B,EAAgB2B,UAAY,E,CA3EhC3B,EAAgB8B,iBAAiB,QAAS/B,EAAAgC,cAC1C/B,EAAgB8B,iBAAiB,QAAS/B,EAAAiC,mBAC1CC,OAAOH,iBAAiB,OAAQZ,GAChCd,EAAS0B,iBAAiB,SA+D1B,SAAwBX,GACpBA,EAAIC,iBACJjB,EAAW+B,UAAUC,OAAO,eAC5B/B,EAAS8B,UAAUE,IAAI,eACvBH,OAAOI,oBAAoB,OAAQnB,GACnCW,IA3BJ,SAAwBV,GACpBA,EAAIC,iBAEJ,IAAMkB,EAAQhB,aAAaC,QAAQ,SAGT,KAFPe,EAAQd,KAAKC,MAAMa,GAAS,IAEhCZ,OACX1B,EAAgB2B,UAAa,4HAK7B3B,EAAgB4B,mBAAmB,YAAavB,E,CAgBpDkC,CAAepB,E,IApEnBhB,EAAW2B,iBAAiB,SAuD5B,SAAwBX,GACpBA,EAAIC,iBACJhB,EAAS8B,UAAUC,OAAO,eAC1BhC,EAAW+B,UAAUE,IAAI,eACzBP,IACAX,EAAgBC,E","sources":["src/library.js","src/js/getFromStorage.js"],"sourcesContent":["import { refs } from './js/refs';\nimport { onTopBallon } from './js/component/btn-to-top';\nimport './js/day-night';\nimport \"./js/getFromStorage\"\nimport './js/LSW';\nimport './js/LSQ';\n","import {toggleClassHidden, openBackDrop, cleanBackDrop, modalKeyDown, closeModal} from \"./openModal\"\nconst libraryMainList = document.querySelector(\"[data-film-modal-open]\")\nconst watchedBTN = document.querySelector(\".watched-btn\")\nconst queueBTN = document.querySelector(\".queue-btn\")\nlibraryMainList.addEventListener(\"click\", openBackDrop)\nlibraryMainList.addEventListener(\"click\", toggleClassHidden)\nwindow.addEventListener(\"load\", showWatchedList)\nqueueBTN.addEventListener(\"click\", openOqueueList)\nwatchedBTN.addEventListener(\"click\", openWathedList)\n\n\nfunction createLibraryMarkup() {\n    const markup = data.map(({ id, poster_path, original_title, name, genres, release_date,  first_air_date}) => {\n        const item = `<li class=\"main-render__item\">\n        <a href=\"#\" class=\"main-render__link\" data-id=\"${id}\">\n        <div class=\"main-render__image-box\">\n            <img class=\"main-render__image\"\n            src=\"https://image.tmdb.org/t/p/w500${poster_path}\"\n            alt=\"${original_title || name}\" \n            data-id=\"${id}\">\n            </div>\n            <div class=\"main-render__discription\">\n            <h2 class=\"main-render__title\" data-id=\"${id}\">\n            ${original_title || name}\n            </h2>\n            <p class=\"main-render__text\" data-id=\"${id}\">${genres} | ${release_date || first_air_date}</p>\n            </div>\n        </a>\n        </li>`\n        return item\n    }).join(\"\")\n    return markup\n}\nfunction showWatchedList(evt) {\n    evt.preventDefault()\n\n    const watched = localStorage.getItem(\"watched\")\n    const watchedFilms = watched ? JSON.parse(watched) : []\n\n    if (watchedFilms.length === 0) {\n        libraryMainList.innerHTML = `<li class=\"api-error\">\n            <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n            </li>`\n    }\n    else {\n        libraryMainList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup)\n    }\n}\nfunction showQueuedList(evt) {\n    evt.preventDefault()\n\n    const queue = localStorage.getItem(\"queue\")\n    const queueFilms = queue ? JSON.parse(queue) : []\n\n    if (queueFilms.length === 0) {\n        libraryMainList.innerHTML = `<li class=\"api-error\">\n            <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n            </li>`\n    }\n    else {\n        libraryMainList.insertAdjacentHTML(\"beforeend\", createLibraryMarkup)\n    }\n}\nfunction openWathedList(evt) {\n    evt.preventDefault()\n    queueBTN.classList.remove(\"btn--active\")\n    watchedBTN.classList.add(\"btn--active\")\n    cleanLibrary()\n    showWatchedList(evt)\n}\nfunction openOqueueList(evt) {\n    evt.preventDefault()\n    watchedBTN.classList.remove(\"btn--active\")\n    queueBTN.classList.add(\"btn--active\")\n    window.removeEventListener(\"load\", showWatchedList)\n    cleanLibrary()\n    showQueuedList(evt)\n}\nfunction cleanLibrary() {\n    libraryMainList.innerHTML = \"\"\n}"],"names":["parcelRequire","$bktnR","$98165248b01bd31e$var$libraryMainList","document","querySelector","$98165248b01bd31e$var$watchedBTN","$98165248b01bd31e$var$queueBTN","$98165248b01bd31e$var$createLibraryMarkup","data","map","param","id","poster_path","original_title","name","genres","release_date","first_air_date","concat","join","$98165248b01bd31e$var$showWatchedList","evt","preventDefault","watched","localStorage","getItem","JSON","parse","length","innerHTML","insertAdjacentHTML","$98165248b01bd31e$var$cleanLibrary","addEventListener","openBackDrop","toggleClassHidden","window","classList","remove","add","removeEventListener","queue","$98165248b01bd31e$var$showQueuedList"],"version":3,"file":"library.bc175edc.js.map"}